{"version":3,"sources":["webpack:///webpack/bootstrap 7c33f0263a4d761035d7","webpack:///./src/utils.js","webpack:///./src/strictduck.js","webpack:///external \"get-prototype-chain\"","webpack:///./src/implement.js","webpack:///./src/implementable.js","webpack:///./src/index.js","webpack:///external \"Duckface/src/duckface\"","webpack:///external \"proto-extend\""],"names":[],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 7c33f0263a4d761035d7\n **/","import getPrototypeChain from 'get-prototype-chain'\nimport extend from 'proto-extend'\n\nexport const id = Symbol.for('strictduck/id')\nexport const baseId = Symbol.for('strictduck')\n\nexport function equals(duckA, duckB){\n    return duckA[id] && duckB[id] && duckA[id] == duckB[id]\n}\n\nexport function is({instance, Class}){\n    return getPrototypeChain(instance)\n        .filter(p => ( equals(p, Class) ))\n        .length > 0\n}\n\nexport function getIdChain(duck){\n    return getPrototypeChain(duck).map(p => p[id])\n}\n\nfunction extendFromBase(objProto, baseProto){\n    if(Object.getPrototypeOf(objProto) == null || getPrototypeChain(baseProto).indexOf(objProto) > -1){\n        return baseProto\n    } else {\n        Object.setPrototypeOf(objProto, extendFromBase(objProto.__proto__, baseProto))\n        return objProto\n    }\n}\nfunction extendThisFromBase(base){\n    if (Object.getPrototypeOf(this) != null) {\n        Object.setPrototypeOf(this, extendFromBase(Object.getPrototypeOf(this), Object.getPrototypeOf(base)))\n    } else {\n        Object.setPrototypeOf(this, Object.getPrototypeOf(base))\n    }\n}\n\nexport function completeAssignToThis(source) {\n    extendThisFromBase.bind(this)(source)\n    let descriptors = Object.getOwnPropertyNames(source).reduce((descriptors, key) => {\n        if (key != 'constructor')\n            descriptors[key] = Object.getOwnPropertyDescriptor(source, key);\n        return descriptors;\n    }, {});\n    // by default, Object.assign copies enumerable Symbols too\n    Object.getOwnPropertySymbols(source).forEach(sym => {\n        let descriptor = Object.getOwnPropertyDescriptor(source, sym);\n        if (descriptor.enumerable) {\n            descriptors[sym] = descriptor;\n        }\n    });\n    Object.defineProperties(this, descriptors);\n}\n\nexport function nameObj({name, object}){\n    let dict = {}\n    dict[name] = object\n    Object.defineProperty(dict[name], 'name', {\n        configurable: true, value: name\n    })\n    return dict[name]\n}\n\nfunction parentId({Class}){\n    return (Class.prototype || {})[id] || baseId\n}\n\nfunction extendParentSymbolFor({Class, name}){\n     let parentPath = Symbol.keyFor(\n         parentId({Class})\n    )\n    return Symbol.for(name ? `${parentPath}.${name}` : parentPath)\n}\n\nexport function nameClass({name, Class}){\n    let symbol = extendParentSymbolFor({name, Class})\n    Class[id] = symbol\n    Class.prototype[id] = symbol\n    return nameObj({name, object: Class})\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils.js\n **/","import Duckface from 'Duckface/src/duckface'\nimport getPrototypeChain from 'get-prototype-chain'\nimport { id, baseId, nameClass, nameObj, completeAssignToThis } from './utils'\n\nexport function shouldImplement({\n    name = 'strictduckInterface', methods = []\n}){\n    let face = new Duckface(name, methods);\n    return instance => Duckface.ensureImplements(instance, face)\n}\n\nfunction firstToLowerCase( str ) {\n    return str.substr(0, 1).toLowerCase() + str.substr(1);\n}\n\nexport default class StrictDuck {\n    constructor(instance, ...interfaces){\n        let copy = typeof(instance) == 'function' ? function(){} : new Object()\n        Object.setPrototypeOf(copy, Object.getPrototypeOf(this))\n        completeAssignToThis.bind(copy)(instance)\n        interfaces.forEach(\n            i => typeof(i) == 'function' ?\n                i(copy) :\n                shouldImplement(i)(copy)\n        )\n        return nameObj({\n            name: firstToLowerCase(Object.getPrototypeOf(this).constructor.name),\n            object: copy\n        })\n    }\n}\n\nStrictDuck[id] = baseId\nStrictDuck.prototype[id] = baseId\n\nexport function extend({\n    name, parent=StrictDuck, interfaces=[], methods=[]\n}){\n    return nameClass({\n        name: name || parent.name,\n        Class: class extends parent {\n            constructor(instance, ...otherInterfaces){\n                super(\n                    instance, {name, methods},\n                    ...interfaces, ...otherInterfaces\n                )\n            }\n        }\n    })\n}\n\nexport const Main = extend({ name: 'Main', methods: ['main'] })\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/strictduck.js\n **/","module.exports = require(\"get-prototype-chain\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"get-prototype-chain\"\n ** module id = 3\n ** module chunks = 0\n **/","import StrictDuck from './strictduck'\nimport { nameClass } from './utils'\n\nexport default function implement({\n    name, withClass, strictduck=StrictDuck\n}) {\n    return nameClass({\n        name: name || withClass.name || strictduck.name,\n        Class: class extends strictduck {\n            constructor(...args){\n                let implementation = new withClass(...args)\n                super(implementation)\n            }\n        }\n    })\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/implement.js\n **/","export default function implementable(fn, defaults){\n    return overrides => fn(Object.assign({}, defaults, overrides))\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/implementable.js\n **/","export default from './strictduck'\nexport * from './strictduck'\n\nexport implement from './implement'\nexport implementable from './implementable'\n\nexport * as utils from './utils'\nexport { id, equals } from './utils'\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","module.exports = require(\"Duckface/src/duckface\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"Duckface/src/duckface\"\n ** module id = 7\n ** module chunks = 0\n **/","module.exports = require(\"proto-extend\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"proto-extend\"\n ** module id = 8\n ** module chunks = 0\n **/"],"sourceRoot":""}